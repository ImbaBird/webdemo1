webpackJsonp([10],{JWfj:function(e,t){},iS32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("mvHQ"),a=n.n(o),i=n("gyMJ"),c=n("22O3"),r={name:"Homeindex",data:function(){return{chose_place:[],showPicker:!1,value:""}},methods:{getlist:function(){var e=this;Object(i.h)().then(function(t){console.log(t.data.data),e.chose_place=t.data.data})},onConfirm:function(e){this.value=e.fcom_id,this.showPicker=!1},onSubmit:function(e){var t=this;console.log("submit",e),Object(i.p)(e).then(function(e){200==e.data.code&&t.$router.push({path:"/home"})})}},created:function(){dd.ready(function(){try{dd.runtime.permission.requestAuthCode({corpId:"ding4b76df8fb11dede535c2f4657eb6378f",onSuccess:function(e){var t=this;Object(i.k)(e.code).then(function(e){200==e.data.code&&(c.a.set("openID",e.data.ding_user_id),c.a.set("show",e.data.role_health),c.a.set("repair",e.data.role_repair),null!=e.data.user_area&&t.$router.push({path:"/home"}))})},onFail:function(e){alert(a()(e))}})}catch(e){alert(e)}}),this.getlist()}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"用户登录"}}),e._v(" "),n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{readonly:"",clickable:"",name:"fcom_id",value:e.value,label:"选择地区",placeholder:"点击选择地区",rules:[{required:!0,message:"请选择地区"}]},on:{click:function(t){e.showPicker=!0}}}),e._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-picker",{attrs:{title:"选择地区","show-toolbar":"",columns:e.chose_place,"value-key":"fcom_id"},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1),e._v(" "),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("立即登录")])],1)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(r,s,!1,function(e){n("JWfj")},null,null);t.default=u.exports}});
//# sourceMappingURL=10.48ba67a6ecd74162d707.js.map