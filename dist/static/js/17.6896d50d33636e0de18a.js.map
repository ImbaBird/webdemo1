{
  "version": 3,
  "sources": [
    "webpack:///src/views/check/sanitation_check.vue",
    "webpack:///./src/views/check/sanitation_check.vue?3c82",
    "webpack:///./src/views/check/sanitation_check.vue"
  ],
  "names": [
    "sanitation_check",
    "name",
    "data",
    "showperson",
    "personcolumns",
    "person_name_val",
    "floor",
    "roomnum",
    "checkvalue",
    "floor_room",
    "punishvalue",
    "floor_room_columns",
    "punishcolumns",
    "money",
    "floor_room_show",
    "showpunishType",
    "uploadImages",
    "files",
    "type",
    "remark",
    "checktypecolumns",
    "showchecktype",
    "checktype_val",
    "person_num",
    "created",
    "this",
    "getfloor_rooms",
    "getchecktype",
    "methods",
    "Floor_onConfirm",
    "values",
    "toString",
    "split",
    "join",
    "get_room_users",
    "checktype_onConfirm",
    "person_onConfirm",
    "punish_onConfirm",
    "look_img",
    "img",
    "index",
    "Object",
    "es",
    "images",
    "startPosition",
    "onSubmit",
    "_this",
    "$loading",
    "check_img",
    "length",
    "close",
    "api",
    "then",
    "res",
    "code",
    "success",
    "msg",
    "setTimeout",
    "$router",
    "push",
    "path",
    "fail",
    "_this2",
    "_this3",
    "params",
    "floor_num",
    "room_num",
    "_this4",
    "repair_type",
    "console",
    "log",
    "imgclose",
    "e",
    "splice",
    "onRead",
    "file",
    "_this5",
    "asyncToGenerator_default",
    "regenerator_default",
    "a",
    "mark",
    "_callee",
    "self",
    "wrap",
    "_context",
    "prev",
    "next",
    "imgPreview",
    "stop",
    "window",
    "FileReader",
    "test",
    "reader",
    "readAsDataURL",
    "onloadend",
    "result",
    "Image",
    "src",
    "headerImage",
    "postImg",
    "onload",
    "compress",
    "Orientation",
    "canvas",
    "document",
    "createElement",
    "ctx",
    "getContext",
    "tCanvas",
    "tctx",
    "width",
    "height",
    "ratio",
    "Math",
    "sqrt",
    "fillStyle",
    "fillRect",
    "count",
    "nw",
    "nh",
    "i",
    "j",
    "drawImage",
    "rotateImg",
    "ndata",
    "toDataURL",
    "direction",
    "step",
    "degree",
    "PI",
    "rotate",
    "dataURLtoFile",
    "dataurl",
    "arr",
    "bstr",
    "atob",
    "n",
    "u8arr",
    "Uint8Array",
    "charCodeAt",
    "File",
    "_this6",
    "_callee2",
    "formData",
    "_context2",
    "FormData",
    "append",
    "axios_default",
    "method",
    "url",
    "str",
    "check_sanitation_check",
    "render",
    "_vm",
    "_h",
    "$createElement",
    "_c",
    "_self",
    "on",
    "submit",
    "attrs",
    "title",
    "_v",
    "label",
    "value",
    "readonly",
    "rules",
    "required",
    "message",
    "placeholder",
    "is-link",
    "arrow-direction",
    "click",
    "$event",
    "position",
    "model",
    "callback",
    "$$v",
    "expression",
    "columns",
    "show-toolbar",
    "cancel",
    "confirm",
    "clickable",
    "value-key",
    "staticStyle",
    "display",
    "staticClass",
    "_l",
    "item",
    "key",
    "after-read",
    "accept",
    "max-size",
    "rows",
    "autosize",
    "maxlength",
    "show-word-limit",
    "margin",
    "round",
    "block",
    "native-type",
    "staticRenderFns",
    "Component",
    "__webpack_require__",
    "normalizeComponent",
    "ssrContext",
    "__webpack_exports__"
  ],
  "mappings": "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",
  "file": "static/js/17.6896d50d33636e0de18a.js",
  "sourcesContent": [
    "<template>\r\n  <van-form @submit=\"onSubmit\">\r\n    <div>\r\n      <van-nav-bar title=\"新增检查\"/>\r\n      <van-field\r\n        label=\"房间号\"\r\n        :value=\"floor_room\"\r\n        readonly\r\n        :rules=\"[{ required: true, message: '请选择房间号' }]\"\r\n        name=\"floor_room_selector\"\r\n        placeholder=\"点击选择\"\r\n        @click=\"floor_room_show = true\"\r\n        is-link\r\n        arrow-direction=\"down\"\r\n      />\r\n      <van-popup v-model=\"floor_room_show\" position=\"bottom\">\r\n        <van-picker\r\n          :columns=\"floor_room_columns\"\r\n          show-toolbar\r\n          @cancel=\"floor_room_show = false\"\r\n          @confirm=\"Floor_onConfirm\"\r\n        />\r\n      </van-popup>\r\n       <van-field\r\n        readonly\r\n        clickable\r\n        name=\"person_name\"\r\n        :value=\"person_name_val\"\r\n        label=\"选择人员：\"\r\n        placeholder=\"点击选择\"\r\n        @click=\"showperson = true\"\r\n        is-link\r\n        arrow-direction=\"down\"\r\n      />\r\n      <van-popup v-model=\"showperson\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          value-key=\"name\"\r\n          :columns=\"personcolumns\"\r\n          @confirm=\"person_onConfirm\"\r\n          @cancel=\"showperson = false\"\r\n        />\r\n      </van-popup>\r\n      <van-field  name=\"person_num\" v-model=\"person_num\" label=\"人员：\" style=\"display:none\" />\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        name=\"check_type\"\r\n        :value=\"checktype_val\"\r\n        label=\"检查类型：\"\r\n        placeholder=\"点击选择\"\r\n        @click=\"showchecktype = true\"\r\n        is-link\r\n        arrow-direction=\"down\"\r\n      />\r\n      <van-popup v-model=\"showchecktype\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"checktypecolumns\"\r\n          @confirm=\"checktype_onConfirm\"\r\n          @cancel=\"showchecktype = false\"\r\n        />\r\n      </van-popup>\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        name=\"check_state\"\r\n        :value=\"punishvalue\"\r\n        label=\"检查结果：\"\r\n        placeholder=\"点击选择\"\r\n        @click=\"showpunishType = true\"\r\n        is-link\r\n        arrow-direction=\"down\"\r\n      />\r\n      <van-popup v-model=\"showpunishType\" position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"punishcolumns\"\r\n          @confirm=\"punish_onConfirm\"\r\n          @cancel=\"showpunishType = false\"\r\n        />\r\n      </van-popup>\r\n      <van-field  name=\"fpunish_money\" v-model=\"money\" label=\"金额：\" placeholder=\"请输入金额\" />\r\n      <div class=\"upload-images\">\r\n        <div class=\"img-box\" v-for=\"(item,index) in uploadImages\" :key=\"index\">\r\n          <div class=\"icon-po\">\r\n            <img class=\"image\" :src=\"item\" @click=\"look_img(uploadImages,index)\" />\r\n            <div class=\"icon-close\" @click=\"imgclose(index)\">×</div>\r\n          </div>\r\n        </div>\r\n        <van-uploader\r\n          :after-read=\"onRead\"\r\n          accept=\"image/gif, image/jpeg, image/png\"\r\n          :max-size=\"6000000\"\r\n        ></van-uploader>\r\n      </div>\r\n      <van-field\r\n        name=\"remark\"\r\n        v-model=\"remark\"\r\n        rows=\"2\"\r\n        autosize\r\n        label=\"备注\"\r\n        type=\"textarea\"\r\n        maxlength=\"50\"\r\n        placeholder=\"请输入备注\"\r\n        show-word-limit\r\n      />\r\n      <div style=\"margin: 16px;\">\r\n        <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n      </div>\r\n    </div>\r\n  </van-form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { getfloor_rooms_list } from \"@/api/index\";\r\nimport { get_room_users_list } from \"@/api/index\";\r\nimport {apichecktypelist} from \"@/api/index\";\r\nimport {apichecksave} from \"@/api/index\";\r\nimport { Toast } from 'vant';\r\nimport { ImagePreview } from 'vant';\r\nexport default {\r\n  name: \"sanitationCheck\",\r\n  data() {\r\n    return {\r\n      showperson:false,//人员下拉框的显示\r\n      personcolumns:[],//人员下拉数据\r\n      person_name_val:\"\",//选择人员值\r\n      floor: \"\", //楼号\r\n      roomnum: \"\", //房间号\r\n      checkvalue: \"\", //房间号楼号的值\r\n      floor_room: \"\",//楼号\r\n      punishvalue: \"\",//处罚值\r\n      floor_room_columns: [],//房间号楼号下拉\r\n      punishcolumns: [\"处罚\", \"优秀\"],//处罚下拉\r\n      money: \"\",//金额\r\n      floor_room_show: false,//房间号下拉的显示\r\n      showpunishType: false,//处罚下拉显示\r\n      uploadImages: [],//图片组\r\n      files: {\r\n        name: \"\",\r\n        type: \"\"\r\n      },\r\n      remark: \"\",//备注\r\n      checktypecolumns:[],//卫生检查类型，\r\n      showchecktype:false,\r\n      checktype_val:\"\",\r\n      person_num:\"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getfloor_rooms();\r\n    this.getchecktype();\r\n  },\r\n  methods: {\r\n    Floor_onConfirm(checkvalue) {\r\n      if (typeof values !== \"string\") {\r\n        this.floor = checkvalue[0];\r\n        this.roomnum = checkvalue[1];\r\n        checkvalue = checkvalue.toString();\r\n      }\r\n      this.floor_room = checkvalue.split(\",\").join(\"-\");\r\n      this.floor_room_show = false;\r\n      this.get_room_users();\r\n    },\r\n    checktype_onConfirm(checktype_val) {\r\n      this.checktype_val = checktype_val;\r\n      this.showchecktype = false;\r\n    },\r\n    person_onConfirm(person_name_val) {\r\n      this.person_name_val = person_name_val.name;\r\n      this.person_num=person_name_val.person_num\r\n      this.showperson = false;\r\n    },\r\n     punish_onConfirm(punishvalue) {\r\n      this.punishvalue = punishvalue;\r\n      this.showpunishType = false;\r\n    },\r\n    look_img(img,index){\r\n      ImagePreview({\r\n        images:img,\r\n        startPosition: index,\r\n      });\r\n    },\r\n    // 提交\r\n    onSubmit(values) {\r\n      this.$loading('提交中');\r\n      values.check_img = this.uploadImages;\r\n      if(values.check_img.length<1) {\r\n          Toast(\"请上传图片\")\r\n          this.$loading.close();\r\n          return false; \r\n      }\r\n      apichecksave(values).then(res=>{\r\n        if(res.data.code=200){\r\n            this.$loading.close();\r\n            Toast.success(res.data.msg);\r\n            setTimeout(() =>{\r\n               this.$router.push({\r\n                    path:\"/checklist\"\r\n                });\r\n            },3000);\r\n        }else{\r\n            this.$loading.close();\r\n            Toast.fail(res.data.msg);\r\n        }     \r\n      })\r\n    },\r\n    getchecktype(){\r\n      apichecktypelist().then(res=>{\r\n        this.checktypecolumns = res.data.data;\r\n      })\r\n    },\r\n    //获取人员\r\n    get_room_users() {\r\n      let params = {\r\n        floor_num: this.floor,\r\n        room_num: this.roomnum\r\n      };\r\n      get_room_users_list(params).then(res => {\r\n        this.personcolumns = res.data.data;\r\n      });\r\n    },\r\n    //获取房间号\r\n    getfloor_rooms() {\r\n      let params = {\r\n        repair_type: \"宿舍\"\r\n      };\r\n      getfloor_rooms_list(params).then(res => {\r\n        console.log(res.data.data);\r\n        this.floor_room_columns = res.data.data;\r\n      });\r\n    },\r\n    // 删除图片\r\n    imgclose(e) {\r\n      this.uploadImages.splice(e, 1);\r\n    },\r\n    // 组件方法 获取 流\r\n    async onRead(file) {\r\n      this.$loading('图片上传中...');\r\n      let self = this;\r\n      self.files.name = file.file.name; // 获取文件名\r\n      self.files.type = file.file.type; // 获取类型\r\n      self.imgPreview(file.file);\r\n    },\r\n    // 处理图片\r\n    imgPreview(file) {\r\n      let self = this;\r\n      let Orientation;\r\n      //去获取拍照时的信息，解决拍出来的照片旋转问题\r\n      // EXIF.getData(file, function () {\r\n      //   Orientation = EXIF.getTag(this, \"Orientation\");\r\n      // });\r\n      // 看支持不支持FileReader\r\n      if (!file || !window.FileReader) return;\r\n      if (/^image/.test(file.type)) {\r\n        // 创建一个reader\r\n        let reader = new FileReader();\r\n        // 将图片2将转成 base64 格式\r\n        reader.readAsDataURL(file);\r\n        // 读取成功后的回调\r\n        reader.onloadend = function() {\r\n          // console.log(this.result);\r\n          let result = this.result;\r\n          let img = new Image();\r\n          img.src = result;\r\n          //判断图片是否大于500K,是就直接上传，反之压缩图片\r\n          if (this.result.length <= 500 * 1024) {\r\n            self.headerImage = this.result;\r\n            self.postImg();\r\n          } else {\r\n            img.onload = function() {\r\n              let data = self.compress(img, Orientation);\r\n              self.headerImage = data;\r\n              self.postImg();\r\n            };\r\n          }\r\n        };\r\n      }\r\n    },\r\n    // 压缩图片\r\n    compress(img, Orientation) {\r\n      let canvas = document.createElement(\"canvas\");\r\n      let ctx = canvas.getContext(\"2d\");\r\n      //瓦片canvas\r\n      let tCanvas = document.createElement(\"canvas\");\r\n      let tctx = tCanvas.getContext(\"2d\");\r\n      // let initSize = img.src.length;\r\n      let width = img.width;\r\n      let height = img.height;\r\n      //如果图片大于四百万像素，计算压缩比并将大小压至400万以下\r\n      let ratio;\r\n      if ((ratio = (width * height) / 4000000) > 1) {\r\n        // console.log(\"大于400万像素\");\r\n        ratio = Math.sqrt(ratio);\r\n        width /= ratio;\r\n        height /= ratio;\r\n      } else {\r\n        ratio = 1;\r\n      }\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      //    铺底色\r\n      ctx.fillStyle = \"#fff\";\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      //如果图片像素大于100万则使用瓦片绘制\r\n      let count;\r\n      if ((count = (width * height) / 1000000) > 1) {\r\n        // console.log(\"超过100W像素\");\r\n        count = ~~(Math.sqrt(count) + 1); //计算要分成多少块瓦片\r\n        //      计算每块瓦片的宽和高\r\n        let nw = ~~(width / count);\r\n        let nh = ~~(height / count);\r\n        tCanvas.width = nw;\r\n        tCanvas.height = nh;\r\n        for (let i = 0; i < count; i++) {\r\n          for (let j = 0; j < count; j++) {\r\n            tctx.drawImage(\r\n              img,\r\n              i * nw * ratio,\r\n              j * nh * ratio,\r\n              nw * ratio,\r\n              nh * ratio,\r\n              0,\r\n              0,\r\n              nw,\r\n              nh\r\n            );\r\n            ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);\r\n          }\r\n        }\r\n      } else {\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n      }\r\n      //修复ios上传图片的时候 被旋转的问题\r\n      if (Orientation != \"\" && Orientation != 1) {\r\n        switch (Orientation) {\r\n          case 6: //需要顺时针（向左）90度旋转\r\n            this.rotateImg(img, \"left\", canvas);\r\n            break;\r\n          case 8: //需要逆时针（向右）90度旋转\r\n            this.rotateImg(img, \"right\", canvas);\r\n            break;\r\n          case 3: //需要180度旋转\r\n            this.rotateImg(img, \"right\", canvas); //转两次\r\n            this.rotateImg(img, \"right\", canvas);\r\n            break;\r\n        }\r\n      }\r\n      //进行最小压缩\r\n      let ndata = canvas.toDataURL(\"image/jpeg\", 0.6);\r\n      tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;\r\n      return ndata;\r\n    },\r\n    // 旋转图片\r\n    rotateImg(img, direction, canvas) {\r\n      //最小与最大旋转方向，图片旋转4次后回到原方向\r\n      const min_step = 0;\r\n      const max_step = 3;\r\n      if (img == null) return;\r\n      //img的高度和宽度不能在img元素隐藏后获取，否则会出错\r\n      let height = img.height;\r\n      let width = img.width;\r\n      let step = 2;\r\n      if (step == null) {\r\n        step = min_step;\r\n      }\r\n      if (direction == \"right\") {\r\n        step++;\r\n        //旋转到原位置，即超过最大值\r\n        step > max_step && (step = min_step);\r\n      } else {\r\n        step--;\r\n        step < min_step && (step = max_step);\r\n      }\r\n      //旋转角度以弧度值为参数\r\n      let degree = (step * 90 * Math.PI) / 180;\r\n      let ctx = canvas.getContext(\"2d\");\r\n      switch (step) {\r\n        case 0:\r\n          canvas.width = width;\r\n          canvas.height = height;\r\n          ctx.drawImage(img, 0, 0);\r\n          break;\r\n        case 1:\r\n          canvas.width = height;\r\n          canvas.height = width;\r\n          ctx.rotate(degree);\r\n          ctx.drawImage(img, 0, -height);\r\n          break;\r\n        case 2:\r\n          canvas.width = width;\r\n          canvas.height = height;\r\n          ctx.rotate(degree);\r\n          ctx.drawImage(img, -width, -height);\r\n          break;\r\n        case 3:\r\n          canvas.width = height;\r\n          canvas.height = width;\r\n          ctx.rotate(degree);\r\n          ctx.drawImage(img, -width, 0);\r\n          break;\r\n      }\r\n    },\r\n    //将base64转换为文件\r\n    dataURLtoFile(dataurl) {\r\n      var arr = dataurl.split(\",\"),\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new File([u8arr], this.files.name, {\r\n        type: this.files.type\r\n      });\r\n    },\r\n    //这里写接口\r\n    async postImg() {\r\n      let file = this.dataURLtoFile(this.headerImage);\r\n      let formData = new window.FormData();\r\n      formData.append(\"file\", file);\r\n      //toast_loding(this, \"图片上传中···\");\r\n      try {\r\n        axios({\r\n          method: \"post\",\r\n          url: \"http://47.104.193.180:18086/fastfds-uploader/v3\",\r\n          data: formData\r\n        }).then(res => {\r\n          let str = res.data.url;\r\n          this.uploadImages.push(str); //将图片地址存入一个数组中\r\n          this.$loading.close();\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/check/sanitation_check.vue",
    "var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('div',[_c('van-nav-bar',{attrs:{\"title\":\"新增检查\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"房间号\",\"value\":_vm.floor_room,\"readonly\":\"\",\"rules\":[{ required: true, message: '请选择房间号' }],\"name\":\"floor_room_selector\",\"placeholder\":\"点击选择\",\"is-link\":\"\",\"arrow-direction\":\"down\"},on:{\"click\":function($event){_vm.floor_room_show = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.floor_room_show),callback:function ($$v) {_vm.floor_room_show=$$v},expression:\"floor_room_show\"}},[_c('van-picker',{attrs:{\"columns\":_vm.floor_room_columns,\"show-toolbar\":\"\"},on:{\"cancel\":function($event){_vm.floor_room_show = false},\"confirm\":_vm.Floor_onConfirm}})],1),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"person_name\",\"value\":_vm.person_name_val,\"label\":\"选择人员：\",\"placeholder\":\"点击选择\",\"is-link\":\"\",\"arrow-direction\":\"down\"},on:{\"click\":function($event){_vm.showperson = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showperson),callback:function ($$v) {_vm.showperson=$$v},expression:\"showperson\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"value-key\":\"name\",\"columns\":_vm.personcolumns},on:{\"confirm\":_vm.person_onConfirm,\"cancel\":function($event){_vm.showperson = false}}})],1),_vm._v(\" \"),_c('van-field',{staticStyle:{\"display\":\"none\"},attrs:{\"name\":\"person_num\",\"label\":\"人员：\"},model:{value:(_vm.person_num),callback:function ($$v) {_vm.person_num=$$v},expression:\"person_num\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"check_type\",\"value\":_vm.checktype_val,\"label\":\"检查类型：\",\"placeholder\":\"点击选择\",\"is-link\":\"\",\"arrow-direction\":\"down\"},on:{\"click\":function($event){_vm.showchecktype = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showchecktype),callback:function ($$v) {_vm.showchecktype=$$v},expression:\"showchecktype\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.checktypecolumns},on:{\"confirm\":_vm.checktype_onConfirm,\"cancel\":function($event){_vm.showchecktype = false}}})],1),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"check_state\",\"value\":_vm.punishvalue,\"label\":\"检查结果：\",\"placeholder\":\"点击选择\",\"is-link\":\"\",\"arrow-direction\":\"down\"},on:{\"click\":function($event){_vm.showpunishType = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showpunishType),callback:function ($$v) {_vm.showpunishType=$$v},expression:\"showpunishType\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.punishcolumns},on:{\"confirm\":_vm.punish_onConfirm,\"cancel\":function($event){_vm.showpunishType = false}}})],1),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"fpunish_money\",\"label\":\"金额：\",\"placeholder\":\"请输入金额\"},model:{value:(_vm.money),callback:function ($$v) {_vm.money=$$v},expression:\"money\"}}),_vm._v(\" \"),_c('div',{staticClass:\"upload-images\"},[_vm._l((_vm.uploadImages),function(item,index){return _c('div',{key:index,staticClass:\"img-box\"},[_c('div',{staticClass:\"icon-po\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":item},on:{\"click\":function($event){return _vm.look_img(_vm.uploadImages,index)}}}),_vm._v(\" \"),_c('div',{staticClass:\"icon-close\",on:{\"click\":function($event){return _vm.imgclose(index)}}},[_vm._v(\"×\")])])])}),_vm._v(\" \"),_c('van-uploader',{attrs:{\"after-read\":_vm.onRead,\"accept\":\"image/gif, image/jpeg, image/png\",\"max-size\":6000000}})],2),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"remark\",\"rows\":\"2\",\"autosize\":\"\",\"label\":\"备注\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"请输入备注\",\"show-word-limit\":\"\"},model:{value:(_vm.remark),callback:function ($$v) {_vm.remark=$$v},expression:\"remark\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e9d5d02\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/check/sanitation_check.vue\n// module id = null\n// module chunks = ",
    "function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e9d5d02\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sanitation_check.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sanitation_check.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sanitation_check.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e9d5d02\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sanitation_check.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/check/sanitation_check.vue\n// module id = null\n// module chunks = "
  ],
  "sourceRoot": ""
}
